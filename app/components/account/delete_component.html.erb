<div>
  <h3 class="h6">Delete your account</h3>

  <p class="mt-1">
    This will permanently delete your account and will cancel your subscription too. Proceed with caution.
  </p>

  <details data-controller="details focus" class="details details-reset details-overlay details-overlay-dark">
    <summary data-action="click->focus#focusElement" class="btn btn--danger-outline mt-3">
      Delete account
    </summary>

    <div class="modal box">
      <div class="box-header">
        <h2 class="box-title">Are you absolutely sure?</h2>

        <button type="button" class="box-close-btn" data-action="details#hide">
          <%= render_svg "close" %>
        </button>
      </div>

      <div class="box-body">
        <p>
          This action will immediately delete your account and it's dependents, like, feature requests, upvotes,
          comments, stages, etc.
        </p>

        <p class="mt-2">
          This will also stop your subscription immediately.
        </p>

        <p class="mt-2">
          Please type <strong class="h6"><%= Current.account.name %></strong> to continue.
        </p>

        <div data-controller="confirmable" data-confirmable-confirm-value="<%= Current.account.name %>" class="mt-2">
          <label id="account-delete-confirm-field" class="sr-only">
            Please type <%= Current.account.name %> to continue
          </label>

          <input type="text" data-confirmable-target="inputField" data-focus-target="focusable" data-action="confirmable#verify" id="account-delete-confirm-field" class="form-control" />

          <%= form_with url: accounts_path, method: :delete, class: "mt-3" do |f| %>
            <%= f.submit "I understand, delete this account",
              data: {
                confirmable_target: "submitBtn"
              },
              class: "btn btn--danger btn--block"
            %>
          <% end %>
        </div>
      </div>
    </div>
  </details>
</div>
