<%= render layout: "admin/settings/layout" do %>
  <section class="section">
    <%= render_component "subhead" do |c| %>
      <% c.heading { "Account general settings" } %>
    <% end %>

    <%= form_with model: Current.account,
      url: accounts_path,
      method: :patch,
      data: { controller: "hotwire", action: "turbo:submit-end->hotwire#onSubmit" },
      class: "max-w-sm w-full" do |f|
    %>
      <div class="form-group">
        <%= f.label :name, "Account name" %>

        <div class="flex items-center">
          <%= f.text_field :name, class: "form-control", autocomplete: "off", required: true %>

          <%= f.submit "Rename", class: "btn ml-3" %>
        </div>

        <%= render_component "form/error", error_field: :name %>
      </div>
    <% end %>
  </section>

  <section class="section">
    <%= render_component "subhead" do |c| %>
      <% c.heading { "Activate your account" } %>

      <% c.description(tag: "p") do %>
        Your account is deactivated. If you ever need to activate it, press the button below.
      <% end %>
    <% end %>

    <button class="btn">Activate account</button>
  </section>

  <section class="section">
    <%= render_component "subhead" do |c| %>
      <% c.heading(variant: "danger") { "Danger zone" } %>
    <% end %>

    <div class="divide-y">
      <%= render_component "account/deactivate" %>

      <div>
        <h3 class="h6">Delete your account</h3>

        <p class="mt-1">
          This will permanently delete your account and will cancel your subscription too. Proceed with caution.
        </p>

        <button class="btn btn--danger-outline mt-3">Delete account</button>
      </div>
    </div>
  </section>
<% end %>
